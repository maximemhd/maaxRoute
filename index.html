<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>gpx-parser</title>
    <script src='js/jquery.js'></script>
    <!--<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"
    integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ=="
    crossorigin=""/>
  <!--<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"
    integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg=="
    crossorigin=""></script>-->
    <script src="leaflet/leaflet.js"></script>
    <!--<script src="js/leaflet.filelayer.js"></script>-->
    <!--<script src="https://unpkg.com/leaflet-filelayer@0.6.0"></script> charge fichier-->
    <script src="js/togeojson.js"></script>
    <script src="js/leaflet.filelayer.js"></script>
    <script src='js/jquery.js'></script>
    <script src='js/script.js'></script>
    <script src='js/easy-button.js'></script>
    <script src='js/Path.Drag.js'></script>
    <script src='js/Leaflet.ImageOverlay.Rotated.js'></script>
    <script src='js/Leaflet.Path.Transform.js'></script>
    <script src='js/Leaflet.Editable.js'></script>
    <!--<script src="js/leaflet.distortableimage.js"></script>-->
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="leaflet/leaflet.css" />
    <link rel="stylesheet" href="css/easy-button.css" />
    <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
</head>

<body onload="">
    <div id="map"></div>
    <input type="file" id="gpx-input" /><br>
    <input type="file" id="image-input" />
</body>

<script>
    document.getElementById('image-input')
        .addEventListener('change', readImage, false);
    document.getElementById('gpx-input')
        .addEventListener('change', readGPXFile, false);

    // create the slippy map
    var map = new L.Map('map').setView([48, -1], 5);
    var positron;
    positron = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
        maxNativeZoom: 18,
        maxZoom: 24
    }).addTo(map);

    var hide = 0;
    L.easyButton( '<span class="fa fa-eye-slash aria-hidden="true""></span>', function(){
//desactivate the map
if(hide==0){
  hide=1;
  map.removeLayer(positron);
}
else{
  hide=0;
  positron = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
      maxNativeZoom: 18,
      maxZoom: 24
  }).addTo(map);
}
}).addTo(map);

</script>



</html>
